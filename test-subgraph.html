<!DOCTYPE html>
<html>
<head>
    <title>Subgraph Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.3.0/mermaid.min.js"></script>
</head>
<body>
    <div id="test-output"></div>
    <script>
        mermaid.initialize({
            startOnLoad: false,
            theme: 'default',
            securityLevel: 'loose',
            logLevel: 'debug'
        });

        const testDiagram = `flowchart TD
    A[Start] --> B[Process]
    
    subgraph S1 [Subgraph 1]
        C[Step 1]
        D[Step 2]
        C --> D
    end
    
    B --> C
    D --> E[End]`;

        async function testRender() {
            try {
                const { svg } = await mermaid.render('test-id', testDiagram);
                document.getElementById('test-output').innerHTML = svg;
                console.log('Subgraph rendered successfully!');
            } catch (error) {
                console.error('Subgraph render error:', error);
                document.getElementById('test-output').innerHTML = '<p style="color: red;">Error: ' + error.message + '</p>';
            }
        }

        testRender();
    </script>
</body>
</html>
